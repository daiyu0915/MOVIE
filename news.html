<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <title>影讯</title>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <link rel="stylesheet" href="https://cdn.staticfile.org/font-awesome/4.7.0/css/font-awesome.css">


    <link type="text/css" rel="styleSheet" href="css/style.css" />
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

    <script src="https://cdn.bootcss.com/vue/2.2.2/vue.min.js"></script>
    <script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <script src="./js/bootstrap-paginator.js"></script>
    <script src="./js/bootstrap.min.js"></script>

    <!-- 引入样式 -->
    <link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
    <!-- 引入组件库 -->
    <script src="https://unpkg.com/element-ui/lib/index.js"></script>
</head>

<body>
    <style>
        .inside{
            display: flex;
            flex-direction: column;
            padding-left: 5%;
        }
        #main {
            display: flex;
            justify-content: center;
            min-width: 1200px;
            
        }
        #main2 {
            padding-top: 100px;
            display: flex;
            flex-direction: column;
            justify-content:center;
            width: 1200px;
          
            
            
            
            /* width: 50%; */
        }
        #fenye{
            text-align: center;
            padding-bottom: 100px;
        }

        #yu {
            padding-bottom: 50px;
            line-height: 25px;
            font-family: 微软雅黑;
        }

        #po {
            display: flex;
            flex-direction: row;
            padding-bottom: 55px;
            width: 100%;
        }
        .resname{
            font-size: 20px;
            font-weight: bolder;
            line-height: 50px;
        }
        .film{
            line-height: 30px;
            font-size: 16px;
        }
    </style>

<div class="body">

    <!--导航栏-->

    <div class="head">
      <div class="middle">
        <nav class="navbar" id="begin">
          <div>
            <i class="fa fa-wikipedia-w"style="font-size:60px;color：black；"></i>
          </div>
          <div class="collaps">
            <form class="form-inline my-3 my-lg-0">
              <a class="nav-link" href="index.html">首页 <span class="sr-only">(current)</span></a>
              <a class="nav-link" href="news.html">新闻动态</a>
              <a class="nav-link" href="about.html">关于我们</a>
            </form>
          </div>
        </nav>
      </div>
    </div>



    <div id="main">
        <div id="main2">
            <!-- <tr> -->

            <div v-for="r in rows" id="po" @click="cctz( r.id )">
                <div>
                    <img style="width: 300px;height: 300px;" v-bind:src="r.resimg" />
                </div>
                <div class="inside">
                    <!-- <div>ID:{{r.id}}</div> -->
                    <div class="resname">{{r.resname}}</div>
                    <div class="film">
                    <div>上映时间:{{r.resint}}</div>
                    <div><span>观看地址:</span>
                        <span>{{r.resurl}}</span></div>
                    <div id="yu">简介:{{r.pageview}}</div>
                    </div>
                </div>
                <!-- </tr> -->
            </div>
            
            

        
            <!-- :page-sizes="[10, 20, 30, 40]"  -->
        <div class="block" id="fenye">
            <span class="demonstration"></span>
            
            <el-pagination @size-change="handleSizeChange" @current-change="handleCurrentChange"
                :current-page="currentPage1"

                :page-size="pageSize"
                layout="total, sizes, prev, pager, next, jumper" :total="total">
            </el-pagination>
        </div>


    </div></div>










    <!-- FOOTER -->
    <div id="wft">
        <div class="container" id="ft">
          <div class="row" id="we">
            <div>
              <i class="fa fa-car"style="font-size:100px;color:black;"></i>
              <h5>福州市仓山区</h5>
            </div><!-- /.col-lg-4 -->
            <div>
              <i class="fa fa-podcast"style="font-size:100px;color:black;"></i>
              <h5>123@o.com</h5>
            </div><!-- /.col-lg-4 -->
            <div>
              <i class="fa fa-superpowers"style="font-size:100px;color:black;"></i>
              <h5>400-800-88</h5>
            </div><!-- /.col-lg-4 -->
            <div>
              
              <img class="img-circle" src="image/ewm.jpg" alt="Generic placeholder image" width="200" height="200">
              <h5>扫一扫加入霍格沃兹</h5>
            </div>
          </div><!-- /.row -->
          <hr class="featurette-divider">
          <p class="pull-right"><a href="#">Back to top</a></p>
          <p>&copy; 2016 Company, Inc. &middot; <a href="#">Privacy</a> &middot; <a href="#">Terms</a></p>
        </div>
      </div>
  
    

</body>


<script>


    // var v = new Vue({
    //       el: '#main',
    //       data: {
    //         rows: result,
    //         total: totals,
    //         pagesize: 3,//每页的数据条数
    //         currentPage: 1//默认开始页面
    //       },
    //       methods: {
    //       current_change:function(currentPage){
    //       this.currentPage = currentPage;
    //     }


    //   }
    //     })


    new Vue({
        el: '#main',
        data: {
            rows: [],
            resultData: [],
            total: 0,
            currentPage1: 1,
            pageSize: 10

        },
        
        created() {
            this.getData()
        },
        methods: {
            getData() {
                var _ = this;
                $.getJSON("http://mock-api.com/NnQ6NdKY.mock/news", function (result, status) {
                    // _.rows = result;
                    _.resultData = result;
                    _.total = result.length;

                    if (!_.resultData) return ''
                    if (_.resultData.length > 10) {
                        _.rows = _.resultData.slice(0, 10)
                    } else {
                        _.rows = _.resultData
                    }
                })
            },
            cctz (canshu) { //canshu是形参,在实际调用里实参是cctz(item.desc)里的item.desc
                        // escape将字符串转化成编码格式,接收页面到时候再转回来
                        var url = 'newsdetail.html' + '?id=' + escape(canshu);
                        window.open(url);
        
            },
            

            handleSizeChange(val) {
                var num = Math.ceil(parseFloat(this.total) / val);
                if (num < this.currentPage1) {
                    this.currentPage1 = num;
                }
                var start = (this.currentPage1 - 1) * val;
                var end = this.currentPage1 * val;
                if (end > this.resultData.length) {
                    this.rows = this.resultData.slice(start, this.resultData.length)
                } else {
                    this.rows = this.resultData.slice(start, end)
                }
            },
            handleCurrentChange(val) {
                var start = (val - 1) * this.pageSize;
                var end = val * this.pageSize;
                if (end > this.resultData.length) {
                    this.rows = this.resultData.slice(start, this.resultData.length)
                } else {
                    this.rows = this.resultData.slice(start, end)
                }
            }
        },
    })





</script>

</html>